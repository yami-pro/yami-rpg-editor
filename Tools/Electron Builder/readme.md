# Directory Structure

## [Project]
 - Directory of game files to be packaged
## [Output]
 - Output directory after the application is packaged
## [node_modules]
 - Temporary directory where Node.js stores local dependencies
 - Can be deleted and regenerated by reinstalling dependencies
## [icon.icns]
 - Your macOS application icon
## [icon.ico]
 - Your Windows application exe icon
## [main.js]
 - Entry script of the Electron framework, usually used for managing windows and calling system APIs
 - This script runs on the main thread; game scripts run on the render thread and can interact
## [package.json]
 - Node.js project configuration file
## [readme.md]
 - Documentation file

# Yami RPG Project Packaging Guide

1. Install Node.js LTS version (https://nodejs.org)
2. Install Visual Studio Code (https://code.visualstudio.com)
3. Run Visual Studio Code -> Open Folder -> Open the current folder
4. Run Yami RPG Editor -> Open Project -> Deploy Web Version
5. Move the contents of the output folder into the [Project] folder
6. Open the [package.json] file -> Click [▶️ Debug]
  - start: Debug the project (shows [main.js] output logs)
  - setup: Install dependencies
  - pack-win-x64: Package output for Windows x64
  - pack-mac-x64: Package output for macOS x64 [macOS only] (For Intel CPU, compatible with Apple M CPU but lower performance)
  - pack-mac-arm64: Package output for macOS arm64 [macOS only] (For Apple M1/M2/M3/M4... CPU)
  - pack-mac-universal: Package output for macOS Universal [macOS only] (For Intel & Apple M CPU, automatically selects x64/arm64 based on architecture)
7. Wait until the terminal finishes execution, then open the [Output] folder to debug the application

# Notes

## Packaged Game File Directory
- Copy [Project/] directory files to [game/resources/app/]
- Copy [main.js] to [game/resources/app/main.js]
- Generate [package.json] to [game/resources/app/package.json]
- Generate [node_modules/] to [game/resources/app/node_modules/]

# Installing Dependencies

## Missing dependencies will cause errors during packaging. The following dependencies are included by default:

1. electron (https://www.electronjs.org)
 - Integrates Google Chromium browser and Node.js runtime
 - If you encounter unsolvable bugs, try a newer version of electron — it might be a framework issue
 - Note: After switching versions, dependencies must be reinstalled

2. electron-builder (https://www.electron.build)
 - Tool used to package electron, your game project, and other dependencies into an executable output

3. steamworks.js (https://github.com/ceifa/steamworks.js)
 - Plugin wrapping the Steamworks API, allowing JavaScript calls to Steam APIs such as achievements and license verification